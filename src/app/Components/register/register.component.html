<form class="container-fluid mt-5 w-75" [formGroup]="formGroup">
    <div class="row mb-4">
      <div class="col">
        <div class="form-outline">
            <label class="form-label" for="form3Example1">First name</label>
          <input type="text" name="firstName" class="form-control" formControlName="firstName"
          [ngClass]="{'is-invalid': (firstName?.touched||firstName?.dirty)&&firstName?.invalid}"
          />
          @if(firstName?.errors?.['required'])
          {
            <span class="invalid-feedback">FirstName is Required</span>
          }
          @if(firstName?.errors?.['pattern'])
          {
            <span class="invalid-feedback">FirstName must be at least 3 letters only</span>
          }
        </div>
      </div>
      <div class="col">
        <div class="form-outline">
            <label class="form-label" for="form3Example1">last name</label>
          <input type="text" name="lastName" class="form-control" formControlName="lastName"
          [ngClass]="{'is-invalid': (lastName?.touched||lastName?.dirty)&&lastName?.invalid}"
          />
          @if(lastName?.errors?.['required'])
          {
            <span class="invalid-feedback">LastName is Required</span>
          }
          @if(lastName?.errors?.['pattern'])
          {
            <span class="invalid-feedback">LastName must be at least 3 letters only</span>
          }
        </div>
      </div>
    </div>
    <div class="form-outline mb-4">
        <label class="form-label" for="form3Example3">Email address</label>
      <input type="email" class="form-control" name="email" formControlName="email"
      [ngClass]="{'is-invalid':(email?.touched||email?.dirty)&&email?.invalid}"
      />
      @if(email?.errors?.['required'])
      {
        <span class="invalid-feedback">Email is Required</span>
      }
      @if(email?.errors?.['pattern'])
      {
        <span class="invalid-feedback">Email is invalid</span>
      }
    </div>
    <div class="form-outline mb-4">
        <label class="form-label" for="form3Example4">Password</label>
      <input type="password" id="form3Example4" class="form-control" name="password" formControlName="password"
      [ngClass]="{'is-invalid':(password?.touched||password?.dirty)&&password?.invalid}" 
      />
       @if(password?.errors?.['required'])
       {
         <span class="invalid-feedback">Password is Required</span>
       }
       @if(password?.errors?.['minlength'])
       {
         <span class="invalid-feedback">Password must be at least 8 letters</span>
       }
       @if(password?.errors?.['pattern'])
       {
         <span class="invalid-feedback">Choose strong Password</span>
       }
    </div>
    <div class="col mb-4">
      <button type="submit" (click)="AddAddress()" class="btn btn-success"><i class="fa fa-plus-circle"></i> Add Address</button>
    </div>
    <div  formArrayName="address">
      @for(control of address.controls; track $index)
      {
        <div class="row mb-4" [formGroupName]="$index">
      <div class="col mt-3">
        <label class="form-label">City</label>
        <input type="text" class="form-control" formControlName="city">
      </div>
    <div class="col mt-3">
      <label class="form-label">Street</label>
      <input type="text" class="form-control" formControlName="street">
    </div>
    <div class="col mt-5">
      <button type="submit" class="btn btn-danger" (click)="RemoveAddress($index)"><i class="fa fa-trash"></i></button>
    </div>
  </div>
    }
  </div>
    <div class=" d-flex row">
    <button class="btn btn-primary btn-block mb-4" [disabled]="!formGroup.valid">Register</button>
    </div>
  </form>

  <div>{{formGroup.value | json}}</div>